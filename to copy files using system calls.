#include <iostream>
#include <fcntl.h>     // for open()
#include <unistd.h>    // for read(), write(), close()
#include <sys/stat.h>  // for file permission constants

using namespace std;

int main() {
    char sourceFile[100], destFile[100];

    cout << "Enter source file name: ";
    cin >> sourceFile;

    cout << "Enter destination file name: ";
    cin >> destFile;

    // Open source file for reading
    int src = open(sourceFile, O_RDONLY);
    if (src < 0) {
        cout << "Error: Cannot open source file.\n";
        return 1;
    }

    // Create / open destination file for writing
    int dest = open(destFile, O_WRONLY | O_CREAT | O_TRUNC, 0644);
    if (dest < 0) {
        cout << "Error: Cannot open destination file.\n";
        close(src);
        return 1;
    }

    // Buffer to store data
    char buffer[1024];
    int bytesRead;

    // Read from source and write to destination
    while ((bytesRead = read(src, buffer, sizeof(buffer))) > 0) {
        write(dest, buffer, bytesRead);
    }

    cout << "File copied successfully.\n";

    // Close both files
    close(src);
    close(dest);

    return 0;
}

